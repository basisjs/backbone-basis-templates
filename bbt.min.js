(function(){var xa={"0.js":"bbt","1.js":"basis.template.html","2.js":"basis.dom.event","3.js":"basis.l10n","4.js":"basis.event","5.js":"basis.template","6.js":"basis.template.htmlfgen"},ya,wa={"0.js":function(d,w,b,M,ja,ia,oa,la){function x(d){var p=P.indexOf(d);if(-1!=p)return V[p];p=new b.template.html.Template(d);P.push(d);V.push(p);return p}b.require("./1.js");var P=[],V=[];d=function(){function b(f,d){if("function"==typeof this[f])this[f](d)}function d(b){var t=this.binding&&this.binding[b];
(t=t&&t.getter)&&this.tmpl&&this.tmpl.set(b,t(this))}var O={},t=1,ba={attach:function(b,d,t){for(var u in d){var p=u.split(":");if(1<p.length)b[p[0]].on(p[1],d[u].bind(t,b));else b.on(u,d[u],t)}},detach:function(b,d,t){for(var u in d){var p=u.split(":");1<p.length?b[p[0]].off(p[1],d[u],t):b.off(u,d[u],t)}}};return function(f){var w=x(f);return function(){var f;if(this.binding&&(f=O[this.binding.id_],!f)){this.binding.id_||(this.binding.id_=t++);f=O[this.binding.id_]={bindingId:this.binding.id_};for(var x in this.binding)if(this.binding[x])if("string"==
typeof this.binding[x]){var P=this.binding[x].match(/^model:(.*)$/);f[x]=P?function(b){return{events:"model:change",getter:function(d){return d.model.get(b)}}}(P[1]||x):function(b){return{getter:function(d){return d[b]}}}(x)}else if("string"==typeof this.binding[x]||"object"==typeof this.binding[x])f[x]=this.binding[x]}this.tmpl=w.createInstance(this,b,null,f,ba);this.updateBind=d;return this.tmpl.element}}}();M.bbt=w.exports=b.object.extend(d,{init:function(b){if(!b)return this;if(b.noConflict)return delete window.bt,
this},template:d})},"1.js":function(d,w,b,M,ja,ia,oa,la){function x(a){a=b.template.getL10nTemplate(a);var l=a.templateId,n=m[l];n||(n=m[l]=new K(a.source));return n}function P(a){return function(l){if("click"!=l.type||3!=l.which){for(var b=v[l.type]||"mouseenter"!=l.type&&"mouseleave"!=l.type,m=l.sender,n;m;){n=m.getAttribute&&m.getAttribute(a);if(!b||"string"==typeof n)break;m=m.parentNode}if("string"==typeof n){var g=m,b=g,d,ca;v[l.type]&&(d=l.relatedTarget)&&(g===d||g.contains(d))&&(g=null);for(;g;){d=
g.basisTemplateId;if("number"==typeof d&&(ca=V(d)))break;g=g.parentNode}if(ca&&ca.action)for(n=n.trim().split(/\s+/),l.actionTarget=b,b=0;g=n[b++];)ca.action.call(ca.context,g,l)}if(l.type in r)r[l.type](l,m)}}}function V(l){var b=a[l&4095];return b&&b.instances[l>>12]}b.require("./2.js");b.require("./3.js");b.require("./5.js");b.require("./6.js");d=this.path;var u=M.document,p=b.dom.event,O=b.string.camelize,t=b.l10n.token,ba=b.template.htmlfgen.getFunctions,f=b.template.TemplateSwitchConfig;ja=
b.template.TemplateSwitcher;ia=b.template.Template;var T=b.template.TYPE_ELEMENT,Q=b.template.TYPE_ATTRIBUTE,Z=b.template.TYPE_TEXT,W=b.template.TYPE_COMMENT,I=b.template.TOKEN_TYPE,U=b.template.TOKEN_BINDINGS,Y=b.template.TOKEN_REFS,J=b.template.ATTR_NAME,R=b.template.ATTR_VALUE,G=b.template.ATTR_NAME_BY_TYPE,C=b.template.ELEMENT_NAME,z=b.template.TEXT_VALUE,D=b.template.COMMENT_VALUE,S={},a={},n={svg:"http://www.w3.org/2000/svg"},r={},v={},g="onmouseenter"in u.documentElement,da=!u.addEventListener&&
"__basisTemplate"+parseInt(1E9*Math.random());da&&(M[da]=function(a,l){p.fireEvent(u,a);l.returnValue=!0;var b=S[a];b&&b(new p.Event(l))});var $=function(){var a=u.createElement("div");a.appendChild(u.createTextNode("a"));a.appendChild(u.createTextNode("a"));return 1==a.cloneNode(!0).childNodes.length}(),fa=function(){var a=u.createElement("div");a.setAttribute("class","a");return!a.className}(),ga=function(){var a=u.createElement("div");a.setAttribute("style","position:absolute");return"absolute"!=
a.style.position}(),ha;a:{try{ha=u.documentElement.style.color="x";break a}catch(ma){}ha=void 0}var l=!!ha;"undefined"==typeof Node||Node.prototype.contains||(Node.prototype.contains=function(a){return!!(this.compareDocumentPosition(a)&16)});var m={},H=function(a,l){function b(e,c){m(c);v[e]=!0;r[c]=function(c){c=new p.Event(c);c.type=e;S[e](c)};r[e]=function(c,a){if(a=a&&a.parentNode)c=new p.Event(c),c.type=e,c.sender=a,S[e](c)}}function m(e){if(!S[e]&&(S[e]=P("event-"+e),!da)){if(!g&&"mouseenter"==
e)return b(e,"mouseover");if(!g&&"mouseleave"==e)return b(e,"mouseout");for(var c=0,a=p.browserEvents(e),h;h=a[c];c++)p.addGlobalHandler(h,S[e])}}function d(e,c){m(e);da&&y.setAttribute("on"+e,da+'("'+e+'",event)');y.setAttribute("event-"+e,c)}function f(e,c){fa&&"class"==e&&(e="className");if(ga&&"style"==e)return y.style.cssText=c;y.setAttribute(e,c)}for(var y=l||u.createDocumentFragment(),ca=l?4:0,e;e=a[ca];ca++)switch(e[I]){case T:var c=e[C],h=c.split(/:/),c=1<h.length?u.createElementNS(n[h[0]],
c):u.createElement(c);H(e,c);y.appendChild(c);break;case Q:var c=e[J],h=e[R],k=c.replace(/^event-/,"");k!=c?d(k,h):("class"!=c&&"style"!=c?!e[U]:h)&&f(c,h||"");break;case 4:case 5:(h=e[R-1])&&f(G[e[I]],h);break;case 6:d(e[1],e[2]||e[1]);break;case W:y.appendChild(u.createComment(e[D]||(e[Y]?"{"+e[Y].join("|")+"}":"")));break;case Z:$&&ca&&a[ca-1][I]==Z&&y.appendChild(u.createComment("")),y.appendChild(u.createTextNode(e[z]||(e[Y]?"{"+e[Y].join("|")+"}":"")||(e[U]?"{"+e[U]+"}":"")))}return y};ha=function(){function m(){this.set(this.name,
this.value)}function n(a,e,c){var h=e&&e.bindingBridge,k=this.attaches&&this.attaches[a],l=null;if(h||k)if(h){if(k&&e===k.value)l=e&&"markup"==e.type?k.tmpl:null;else{k&&(k.tmpl&&(k.tmpl.element.toString=null,x(k.value).clearInstance(k.tmpl)),k.value.bindingBridge.detach(k.value,m,k));if("markup"==e.type&&e instanceof b.l10n.Token){var A=x(e),ka=this.context,F=this.bindings,s=this.bindingInterface,l=A.createInstance(ka,null,function aa(){l=X.tmpl=A.createInstance(ka,null,aa,F,s);l.element.toString=
function(){return e.value};m.call(X)},F,s);l.element.toString=function(){return e.value}}this.attaches||(this.attaches=new c);var X=this.attaches[a]={name:a,value:e,tmpl:l,set:this.tmpl.set};h.attach(e,m,X)}if(l)return l.element;e=h.get(e)}else k&&(k.tmpl&&(k.tmpl.element.toString=null,x(k.value).clearInstance(k.tmpl)),k.value.bindingBridge.detach(k.value,m,k),this.attaches[a]=null);return e}function r(a,e){return function(c){for(var h=0,l;l=a[h];h++)this(l,e[l](c))}}var g=/\s+/,d="function"==typeof Node&&
u instanceof Node?function(a,e,c){a=c&&c instanceof Node?c:a;a!==e&&e.parentNode.replaceChild(a,e);return a}:function(a,e,c){c=c&&"object"==typeof c?c:a;if(c!==e)try{e.parentNode.replaceChild(c,e)}catch(h){c=a,e!==c&&e.parentNode.replaceChild(c,e)}return c},v=function(a,e,c,h){c!==h&&(h?a.setAttribute(e,h):a.removeAttribute(e));return h},y={bind_textNode:function(a,e,c){e=d(a,e,c);e===a&&(a.nodeValue=c);return e},bind_node:d,bind_element:function(a,e,c){e=d(a,e,c);e===a&&"string"==typeof c&&(a.innerHTML=
c);return e},bind_comment:d,bind_attr:v,bind_attrClass:M.DOMTokenList&&u&&u.documentElement.classList instanceof M.DOMTokenList?function(a,e,c,h,l){var q=c?h+c:"";q!=e&&(e&&a.classList.remove(e),q&&(a.classList.add(q),l&&(a.classList.add(q+"-anim"),b.nextTick(function(){a.classList.remove(q+"-anim")}))));return q}:function(a,e,c,h,l){var q=c?h+c:"";if(q!=e){c=a.className;var m="string"!=typeof c;m&&(c=c.baseVal);c=c.split(g);e&&b.array.remove(c,e);q&&(c.push(q),l&&(b.array.add(c,q+"-anim"),b.nextTick(function(){var e=
(m?a.className.baseVal:a.className).split(g);b.array.remove(e,q+"-anim");m?a.className.baseVal=e.join(" "):a.className=e.join(" ")})));m?a.className.baseVal=c.join(" "):a.className=c.join(" ")}return q},bind_attrStyle:l?function(a,e,c,h){c!==h&&(a.style[O(e)]=h);return h}:function(a,e,c,h){if(c!==h)try{a.style[O(e)]=h}catch(l){}return h},resolve:n,l10nToken:t,createBindingFunction:function(a){var e={};return function(c,h,l,b){if(!c)return{};var m="bindingId"in c?c.bindingId:null,n=e[m];if(!n){for(var n=
[],F={},s={},X=0,g;g=a[X];X++){var aa=c[g],d=aa&&aa.getter;if(d&&(F[g]=d,n.push(g),aa.events))for(var aa=String(aa.events).trim().split(/\s+|\s*,\s*/),d=0,qa;qa=aa[d];d++)s[qa]?s[qa].push(g):s[qa]=[g]}c=r(n,F);for(var va in s)s[va]=r(s[va],F);n={names:n,sync:c,handler:va?s:null};m&&(e[m]=n)}h&&l&&n.sync.call(l,h);if(b)return n.handler&&b.attach(h,n.handler,l),n.handler}}};return function(l){var e=ba(l,!0,this.source.url,l.source_,!$),c,h={},k={},b=[],m=0,g=H(l),F=function(){return g.cloneNode(!0)},
s=this.templateId;a[s]={template:this,instances:h};if(e.createL10nSync){var X=e.createL10nSync(g,k,v,$);l=0;for(var d;d=e.l10nKeys[l];l++)X(d,t(d).value);if(e.l10nKeys)for(l=0;d=e.l10nKeys[l];l++)d={path:d,token:t(d),handler:function(e){X(this.path,e);for(var a in h)h[a].tmpl.set(this.path,e)}},d.token.attach(d.handler,d),b.push(d),d=null}c=e.createInstance(s,h,F,y,k,$);return{createInstance:function(e,a,l,k,b){var q=m++;e=c(q,e,a,l,k,b);h[q]=e;return e.tmpl},destroyInstance:function(e){e=e.templateId_;
var a=h[e];if(a){a.handler&&a.bindingInterface.detach(a.context,a.handler,a.tmpl.set);for(var c in a.attaches)n.call(a,c,null);delete h[e]}},keys:e.keys,destroy:function(c){for(var l=0,qa;qa=b[l];l++)qa.token.detach(qa.handler,qa);for(var m in h)if(l=h[m],c&&l.rebuild&&l.rebuild.call(l.context),!c||m in h)for(m in l.handler&&l.bindingInterface.detach(l.context,l.handler,l.tmpl.set),l.attaches)n.call(m,null);a[s]&&a[s].instances===h&&delete a[s];h=X=b=k=g=F=e=null}}}}();var K=ia.subclass({className:d+
".Template",__extend__:function(a){return a instanceof K?a:a instanceof f?new y(a):new K(a)},builder:ha}),y=ja.subclass({className:d+".TemplateSwitcher",templateClass:K});w.exports={Template:K,TemplateSwitcher:y};b.template.extend({buildHtml:H,resolveTemplateById:function(l){return(l=a[l&4095])&&l.template},resolveObjectById:function(a){return(a=V(a))&&a.context},resolveTmplById:function(a){return(a=V(a))&&a.tmpl}})},"2.js":function(d,w,b,M,ja,ia,oa,la){function x(a){return a instanceof $?a.event_:
a||M.event}function P(a){return"string"==typeof a?z.getElementById(a):a}function V(a){a=a.target||a.srcElement||z;return 3==a.nodeType?a.parentNode:a}function u(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function p(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function O(a,b){(b=P(b))?J(b,a,O):(p(a),u(a))}function t(a){return a.keyCode||a.which||0}function ba(a){return a.charCode||a.keyCode||0}function f(a,b){return"number"==typeof a.which?a.which==b.VALUE:!!(a.button&b.BIT)}
function T(a){return a.changedTouches?a.changedTouches[0].pageX:"pageX"in a?a.pageX:"clientX"in a?a.clientX+("CSS1Compat"==z.compatMode?z.documentElement.scrollLeft:z.body.scrollLeft):0}function Q(a){return a.changedTouches?a.changedTouches[0].pageY:"pageY"in a?a.pageY:"clientY"in a?a.clientY+("CSS1Compat"==z.compatMode?z.documentElement.scrollTop:z.body.scrollTop):0}function Z(a){var b=0;"wheelDelta"in a?b=a.wheelDelta:"DOMMouseScroll"==a.type&&(b=-a.detail);return b&&b/Math.abs(b)}function W(a){var b=
S(fa[a.type]),n=ga[a.type],d=new $(a);if(n)n.handler.call(n.thisObject,d),O(a);else if(b)for(a=b.length;0<a--;)n=b[a],n.handler.call(n.thisObject,d)}function I(a){var b=ga[a];b&&(Y(a,b.handler,b.thisObject),delete ga[a])}function U(a,b,n){var d=fa[a];if(d){a=0;for(var g;g=d[a];a++)if(g.handler===b&&g.thisObject===n)return}else ha?J(z,a,D):z.addEventListener(a,W,!0),d=fa[a]=[];d.push({handler:b,thisObject:n})}function Y(a,b,n){var d=fa[a];if(d)for(var g=0,r;r=d[g];g++)if(r.handler===b&&r.thisObject===
n){d.splice(g,1);d.length||(delete fa[a],ha?R(z,a,D):z.removeEventListener(a,W,!0));break}}function J(b,d,g,r){b=P(b);if(!b)throw 3;if("function"!=typeof g)throw 4;b[n]||(b[n]={});var v={handler:g,thisObject:r},f=b[n],t=f[d];if(t){for(b=0;f=t[b];b++)if(f.handler===g&&f.thisObject===r)return;t.push(v)}else t=f[d]=[v],t.fireEvent=function(a){a=x(a);if(ha&&a&&fa[d]&&"undefined"==typeof a.returnValue){W(a);if(!0===a.cancelBubble)return;"undefined"==typeof a.returnValue&&(a.returnValue=!0)}var b=0;a=new $(a);
for(var l;l=t[b++];)l.handler.call(l.thisObject,a)},a?b.addEventListener(d,t.fireEvent,!1):b.attachEvent("on"+d,t.fireEvent)}function R(a,b,d,g){a=P(a);var r=a[n];if(r&&(r=r[b]))for(var v=0,f;f=r[v];v++)if(f.handler===d&&f.thisObject===g){r.splice(v,1);r.length||G(a,b);break}}function G(a,b){a=P(a);var d=a[n];if(d)if("string"!=typeof b)for(b in d)G(a,b);else{var g=d[b];g&&(a.removeEventListener?a.removeEventListener(b,g.fireEvent,!1):a.detachEvent("on"+b,g.fireEvent),delete d[b])}}function C(a){return function(b,
n){return a(x(b),n)}}var z=M.document,D=b.fn.$null,S=b.array.from,a=!!z.addEventListener,n="__basisEvents";d={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};var r={VALUE:1,BIT:1},v={VALUE:2,BIT:4},g={VALUE:3,BIT:2},da={mousewheel:["mousewheel","DOMMouseScroll"]},$=b.Class(null,{className:this.path+
".Event",KEY:d,init:function(a){a=x(a);for(var n in a)"function"!=typeof a[n]&&!1==n in this&&(this[n]=a[n]);b.object.extend(this,{event_:a,sender:V(a),key:t(a),charCode:ba(a),mouseLeft:f(a,r),mouseMiddle:f(a,v),mouseRight:f(a,g),mouseX:T(a),mouseY:Q(a),wheelDelta:Z(a)})},stopBubble:function(){u(this.event_)},stopPropagation:function(){u(this.event_)},preventDefault:function(){p(this.event_)},die:function(){this.stopBubble();this.preventDefault()}}),fa={},ga={},ha=!a,ma={};w.exports={W3CSUPPORT:a,
browserEvents:function(a){return da[a]||[a]},getEventInfo:function(b,n){n||(n="div");var d=n+"-"+b;if(ma[d])return ma[d];var g=!1,r=!1;if(!a){var v="on"+b,f=z.createElement("div"),t=f.appendChild(z.createElement(n));f[v]=function(){r=!0};try{t.fireEvent(v),g=!0}catch(C){}}return ma[d]={supported:g,bubble:r}},KEY:d,MOUSE_LEFT:r,MOUSE_RIGHT:g,MOUSE_MIDDLE:v,Event:$,sender:C(V),cancelBubble:C(u),cancelDefault:C(p),kill:C(O),key:C(t),charCode:C(ba),mouseButton:C(f),mouseX:C(T),mouseY:C(Q),wheelDelta:C(Z),
addGlobalHandler:U,removeGlobalHandler:Y,captureEvent:function(a,b,n){ga[a]&&I(a);U(a,b,n);ga[a]={handler:b,thisObject:n}},releaseEvent:I,addHandler:J,addHandlers:function(a,b,n){a=P(a);for(var d in b)J(a,d,b[d],n)},removeHandler:R,clearHandlers:G,fireEvent:function(a,b,d){a=P(a);(a=a[n])&&a[b]&&a[b].fireEvent(d)},onUnload:function(a,b){J(M,"unload",a,b)},wrap:x}},"3.js":function(d,w,b,M,ja,ia,oa,la){function x(a){var b=[],d;for(d in a)ba.call(a,d)&&b.push(d);return b}function P(a,b,d,v){var g=a.cultureValues[b];
v=v?v+".":"";for(var f in d)if(ba.call(d,f)){var t=v+f,C=d[f];(g[t]=C)&&("object"==typeof C||Array.isArray(C))&&P(a,b,C,t)}}function V(a){var d;if("string"==typeof a){var r=b.path.extname(a);".l10n"!=r&&(a=b.path.dirname(a)+"/"+b.path.basename(a,r)+".l10n");a=b.resource(a)}b.resource.isResource(a)&&(d=I[a.url]);return d||new Y(a)}function u(a,b){a&&!G[a]&&(G[a]=new S(a,b));return G[a||R]}function p(a){if(a&&R!=a&&-1!=J.indexOf(a)){R=a;for(var d=0,r;r=W[d];d++)r.syncValues();b.Token.prototype.set.call(u,
a)}}function O(a){"string"==typeof a&&(a=a.trim().split(" "));if(a.length){var d={},r,v;C={};for(var g=0,f;r=a[g];g++)r=r.split("/"),2<r.length&&(r=r.slice(0,2)),f=r[0],v||(v=f),d[f]=u(f),C[f]=r;for(f in C)C[f]=b.array.flatten(C[f].map(function(a){return C[a]})).concat(v).filter(function(a,b,d){return!b||-1==d.lastIndexOf(a,b-1)});J=b.object.keys(d);!1==R in d&&p(v)}}b.require("./4.js");d=this.path;M=b.Class;var t=b.event.Emitter,ba=Object.prototype.hasOwnProperty;b.resource.extensions[".l10n"]=function(a,
d){return V(d).update(b.resource.extensions[".json"](a,d))};var f=[],T={},Q=M(b.Token,{className:d+".ComputeToken",init:function(a,d){d.computeTokens[this.basisObjectId]=this;this.token=d;this.get=d.computeGetMethod;b.Token.prototype.init.call(this,a)},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId];this.token=null;b.Token.prototype.destroy.call(this)}}),Z=M(b.Token,{className:d+".Token",index:NaN,dictionary:null,name:"",type:"default",
computeTokens:null,init:function(a,d,r,v){b.Token.prototype.init.call(this,v);this.index=f.push(this)-1;this.name=d;this.dictionary=a;this.computeTokens={};r?this.setType(r):this.apply()},toString:function(){return this.get()},computeGetMethod:function(){},apply:function(){var a={},d=this.computeTokens,r="plural"==this.type?function(){return a[G[R].plural(this.value)]}:function(){return a[this.value]};this.computeGetMethod=r;if("plural"==this.type&&Array.isArray(this.value)||"default"==this.type&&
"object"==typeof this.value)a=b.object.slice(this.value,x(this.value));for(var f in d){var g=d[f],t=g.get(),C=r.call(g);g.get=r;t!==C&&g.apply()}b.Token.prototype.apply.call(this)},setType:function(a){"plural"==a||b.l10n.enableMarkup&&"markup"==a||(a="default");this.type!=a&&(this.type=a,this.apply())},compute:function(a,d){1==arguments.length&&(d=a,a="");d=b.getter(d);a=String(a).trim().split(/\s+|\s*,\s*/).sort();var r=a.concat(this.basisObjectId,d.basisGetterId_).join("_");if(T[r])return T[r];
for(var f=this,g={},C=function(a){this.set(d(a))},u={destroy:function(a){delete g[a.basisObjectId];this.destroy()}},J=0,z;z=a[J];J++)"destroy"!=z&&(u[z]=C);return T[r]=function(a){if(!1==a instanceof t)throw 5;var b=a.basisObjectId,l=g[b];l||(l=g[b]=new Q(d(a),f),a.addHandler(u,l));return l}},computeToken:function(a){return new Q(a,this)},token:function(a){"plural"==this.type&&(a=G[R].plural(a));if(this.dictionary)return this.dictionary.token(this.name+"."+a)},destroy:function(){for(var a in this.computeTokens)this.computeTokens[a].destroy();
this.value=this.computeTokens=null;b.Token.prototype.destroy.call(this)}}),W=[],I={},U=new b.Token,Y=M(null,{className:d+".Dictionary",tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(a){this.tokens={};this.types={};this.cultureValues={};this.index=W.push(this)-1;b.resource.isResource(a)?(this.resource=a,I[a.url]||(I[a.url]=this,U.set(a.url)),a.fetch()):this.update(a||{})},update:function(a){a||(a={});this.cultureValues={};for(var b in a)/^_|_$/.test(b)||(this.cultureValues[b]=
{},P(this,b,a[b]));this.types=a._meta&&a._meta.type||{};for(var d in this.tokens)this.tokens[d].setType(this.types[d]);this.syncValues();return this},syncValues:function(){for(var a in this.tokens)this.tokens[a].set(this.getValue(a))},getValue:function(a){for(var b=C[R]||[],d=0,f;f=b[d];d++)if((f=this.cultureValues[f])&&a in f)return f[a]},getCultureValue:function(a,b){return this.cultureValues[a]&&this.cultureValues[a][b]},token:function(a){var b=this.tokens[a];b||(b=this.tokens[a]=new Z(this,a,
this.types[a],this.getValue(a)));return b},destroy:function(){this.cultureValues=this.tokens=null;b.array.remove(W,this);this.resource&&(delete I[this.resource.url],this.resource=null)}}),J=[],R=null,G={},C={},z={},D=[[1,function(a){return 0}],[2,function(a){return 1==a||1==a%10?0:1}],[2,function(a){return 0==a?0:1}],[2,function(a){return 1==a?0:1}],[2,function(a){return 0==a||1==a?0:1}],[2,function(a){return 1!=a%10||11==a%100?1:0}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%
100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:0!=a?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 0==a?0:1==a?1:2}],[3,function(a){return 1==a?0:0==a||0<a%100&&20>a%100?1:2}],[3,function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2}],[3,function(a){return 1==a?0:2<=a&&4>=a?1:2}],[4,function(a){return 1==a?0:2==a?1:8!=a&&11!=a?
2:3}],[4,function(a){return 1==a?0:2==a?1:3==a?2:3}],[4,function(a){return 1==a%100?1:2==a%100?2:3==a%100||4==a%100?3:0}],[4,function(a){return 1==a?0:0==a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3}],[4,function(a){return 1==a||11==a?0:2==a||12==a?1:2<a&&20>a?2:3}],[5,function(a){return 1==a?0:2==a?1:7>a?2:11>a?3:4}],[6,function(a){return 0==a?0:1==a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5}]];"ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh;mk;jv;af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo;ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh;is;csb;lv;lt;be bs hr ru sr uk;mnk;ro;pl;cs sk;cy;kw;sl;mt;gd;ga;ar".split(";").forEach(function(a,
b){a.split(" ").forEach(function(a){z[a]=this},D[b])});var S=b.Class(null,{className:d+".Culture",name:"",pluralForm:null,init:function(a,b){this.name=a;G[a]||(G[a]=this);this.pluralForm=b||z[a]||z[a.split("-")[0]]||D[0]},plural:function(a){return Number(this.pluralForm[1](Math.abs(parseInt(a,10))))}});b.object.extend(u,new b.Token);u.set=p;O("en-US");p("en-US");w.exports={ComputeToken:Q,Token:Z,token:function(a){if("#"==a.charAt(0))return f[parseInt(a.substr(1),36)];if(a=a.match(/^(.+?)@(.+)$/))return V(b.path.resolve(a[2])).token(a[1])},
Dictionary:Y,dictionary:V,getDictionaries:function(){return W.slice(0)},addCreateDictionaryHandler:U.attach.bind(U),removeCreateDictionaryHandler:U.detach.bind(U),Culture:S,culture:u,getCulture:function(){return R},setCulture:p,getCultureList:function(){return J.slice(0)},setCultureList:O,pluralForms:D,onCultureChange:function(a,b,d){u.attach(a,b);d&&a.call(b,R)}}},"4.js":function(d,w,b,M,ja,ia,oa,la){function x(b){var d=V[b];d||(d=function(){for(var d=this,u,f;d=d.handler;){f=d.callbacks[b];if("function"==
typeof f){if(!u){u=[this];for(var x=0;x<arguments.length;x++)u.push(arguments[x])}f.apply(d.context||this,u)}f=d.callbacks["*"];if("function"==typeof f){if(!u)for(u=[this],x=0;x<arguments.length;x++)u.push(arguments[x]);f.call(d.context||this,{sender:this,type:b,args:u})}}},V[b]=d);return d}d=b.Class;var P={},V={},u=function(){};d=d(null,{className:this.path+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:x("destroy"),listen:d.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&
(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(b,d){this.handler={callbacks:b,context:d||this,handler:this.handler}},removeHandler:function(b,d){var t=this,u;for(d=d||this;u=t,t=t.handler;)if(t.callbacks===b&&t.context===d){t.callbacks=P;u.handler=t.handler;break}},destroy:function(){this.destroy=u;this.emit_destroy();this.handler=null}});w.exports={create:x,createHandler:function(b,d){var t={events:[]};if(b){b=String(b).trim().split(/\s+|\s*,\s*/).sort();for(var t=
{events:b},u=0,f;f=b[u];u++)"destroy"!=f&&(t[f]=d)}return t},events:V,Emitter:d}},"5.js":function(d,w,b,M,ja,ia,oa,la){function x(a){"string"==typeof a&&(a=b.l10n.token(a));if(!a)return null;var c=a.basisObjectId,h=ca[c];h||(h=ca[c]=new k(new e(a)));return h}function P(a){h[I.extname(a)]&&b.resource(a)().startUse()}function V(a){h[I.extname(a)]&&b.resource(a)().stopUse()}function u(){this.destroyBuilder&&t.call(this);for(var a=0,e;e=this.attaches_[a];a++)e.handler.call(e.context)}function p(a){for(var e=
[],c=0;c<a.length;c++)e.push(Array.isArray(a[c])?p(a[c]):a[c]);return e}function O(a,e,h,d){var k=a,q;"function"==typeof k&&(e="baseURI"in a?a.baseURI:e,q="url"in a?a.url:q,k=k());k instanceof b.Token&&(e="baseURI"in a?a.baseURI:e,q="url"in a?a.url:q,k=k.get());Array.isArray(k)?(h&&(k=p(k)),k={tokens:k}):"object"==typeof k&&Array.isArray(k.tokens)||(k=String(k));"string"==typeof k&&(k=c(k,e,d,q));return k}function t(){var a=O(this.source,this.baseURI),e=this.destroyBuilder,c=this.builder(a.tokens,
this),b=this.deps_;if(b){this.deps_=null;for(var h=0,k;k=b[h];h++)k.bindingBridge.detach(k,t,this)}if(a.deps&&a.deps.length)for(this.deps_=b=a.deps,h=0;k=b[h];h++)k.bindingBridge.attach(k,t,this);this.createInstance=c.createInstance;this.clearInstance=c.destroyInstance;this.getBinding=function(){return{names:c.keys}};this.destroyBuilder=c.destroy;if(a=a.resources&&0<a.resources.length?a.resources:null)for(h=0;b=a[h];h++)P(b);if(this.resources)for(h=0;b=this.resources[h];h++)V(b);this.resources=a;
e&&e(!0)}function ba(a){return function(){var e;e=(e=document.getElementById(a))&&"SCRIPT"==e.tagName?"text/basis-template"==e.type?e.textContent||e.text:"":"";return e}}function f(){var a=b.array(arguments).join("."),e=X[a];e||(e=new F("",a),X[a]=e);return e}function T(a,e){for(var c=[],b={},h=[],k=0;k<e.length;k++)b[e[k]]||(b[e[k]]=!0,h.push(e[k]));c.source=h.join("/");b={base:!0};for(h=0;h<e.length;h++)k=e[h]||"base",k==a||b[k]||(Z(k),b[k]=!0,c.push(k),e.splice.apply(e,[h+1,0].concat(s[k].fallback)));
c.unshift(a);"base"!=a&&c.push("base");c.value=c.join("/");return c}function Q(a,e){for(var c=s[a].sourcesList,b=0,h;h=c[b];b++)if(h.hasOwnProperty(e))return h[e];return""}function Z(a){a||(a="base");if(s[a])return s[a].theme;if(!/^([a-z0-9\_\-]+)$/.test(a))throw 8;var e={},c=[e],h=new ka;s[a]={theme:h,sources:e,sourcesList:c,fallback:[]};var k=function(c,h){!1==c in e&&(e[c]=h,-1!=s[aa].fallback.indexOf(a)&&f(c).set());return f(c)};b.object.extend(h,{name:a,fallback:function(e){if(h!==pa&&0<arguments.length){var c=
"string"==typeof e?e.split("/"):[],b={},c=T(a,c);if(s[a].fallback.source!=c.source){s[a].fallback.source=c.source;for(var k in s){var d=s[k].fallback,c=T(k,(d.source||"").split("/"));if(c.value!=d.value){b[k]=!0;s[k].fallback=c;d=s[k].sourcesList;d.length=c.length;for(var q=0;q<d.length;q++)d[q]=s[c[q]].sources}}}for(k in b)if(-1!=s[aa].fallback.indexOf(k)){c=void 0;for(c in X)f(c).set();break}}c=s[a].fallback.slice(1);c.source=s[a].fallback.source;return c},define:function(a,e){"function"==typeof a&&
(a=a());if("string"==typeof a){if("object"==typeof e){var c=a,b=e,d={},q;for(q in b)b.hasOwnProperty(q)&&(d[q]=k(c+"."+q,b[q]));return d}return 1==arguments.length?f(a):k(a,e)}if("object"==typeof a){b=a;for(c in b)b.hasOwnProperty(c)&&k(c,b[c]);return h}},apply:function(){if(a!=aa){aa=a;for(var e in X)f(e).set();e=0;for(var c;c=na[e];e++)c.fn.call(c.context,a)}return h},getSource:function(c,b){return b?Q(a,c):e[c]},drop:function(c){e.hasOwnProperty(c)&&(delete e[c],-1!=s[aa].fallback.indexOf(a)&&
f(c).set())}});s[a].fallback=T(a,[]);c.push(s.base.sources);return h}b.require("./3.js");d=this.path;M=b.Class;var W=b.cleaner,I=b.path,U=b.array.search,Y=b.array.add,J=b.array.remove,R=[],G={},C=1,z=2,D=4,S=6,a=3,n=8,r=0,v=1,g=2,da=3,$=4,fa=/^event-(.+)$/,ga={4:"class",5:"style"},ha={"class":D,style:5},ma={2:$,4:$-1,5:$-1,6:2},l=4,m=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,H=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,
K=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,y=/(.|[\r\n])*?--\x3e/g,B=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,E=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,ra=/"((?:(\\")|[^"])*?)"\s*/g,ta=/^/g,ea={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g},ua=/\\"/g,sa=function(e){var c=[],b=[],h={childs:c},k,d,q,g=!1,s=0,l,A=m,F=0,f;for(e=e.trim();F<e.length||A!=m;)if(k=A.lastIndex=F,(f=A.exec(e))&&f.index===F){F=A.lastIndex;switch(A){case m:l=k+f[1].length;s!=l&&(k=s==k?f[1]:e.substring(s,l),(d=k.replace(/\s*(\r\n?|\n\r?)\s*/g,
""))&&h.childs.push({type:a,len:k.length,value:d}));s=l;f[3]?h.childs.push({type:a,refs:["l10n:"+f[3]],value:"{l10n:"+f[3]+"}"}):"{"==f[2]?(q=F-1,h.childs.push(d={type:a}),A=E):f[4]?"/"==f[4]?(d=null,A=B):(h.childs.push(d={type:n}),f[5]?(q=F-f[5].length,A=E):(q=F,A=y)):f[2]&&(g=!0,b.push(h),h.childs.push(d={type:C,attrs:[],childs:[]}),h=d,A=H);break;case B:f[1]!==(h.prefix?h.prefix+":":"")+h.name?h.childs.push({type:a,value:"</"+f[0]}):h=b.pop();A=m;break;case H:case K:if(":"==f[2]){d.prefix?A=ta:
d.prefix=f[1];break}f[1]&&(d.name=f[1],d.type==z&&h.attrs.push(d));if("{"==f[2]){A=d.type==C?E:ta;break}if(f[3]){g=!1;if("/>"==f[3])h=b.pop();else if("b"==h.prefix&&h.name in ea){A=ea[h.name];break}A=m;break}if("="==f[2]){A=ra;break}d={type:z};A=K;break;case y:d.value=e.substring(q,F-3);A=m;break;case E:d.refs?d.refs.push(f[1]):d.refs=[f[1]];"|"!=f[2]&&(d.type==a?(F-=f[2].length-1,d.value=e.substring(q,F),A=m):d.type==n?A=y:d.type==z&&"="==e[F]?(F++,A=ra):(d={type:z},A=K));break;case ra:d.value=f[1].replace(ua,
'"');d={type:z};A=K;break;case ea.text:h.childs.push({type:a,value:f[1]});h=b.pop();A=m;break;default:throw 6;}A==m&&(s=F)}else if(A==E&&d&&d.type==n)A=y;else{g&&(h=b.pop());d&&h.childs.pop();if(d=h.childs.pop())d.type!=a||d.refs?h.childs.push(d):s-="len"in d?d.len:d.value.length;g=!1;A=m}s!=F&&h.childs.push({type:a,value:e.substring(s,F)});c.templateTokens=!0;return c},ca={},e=b.Token.subclass({className:d+".L10nProxyToken",token:null,url:"",init:function(a){this.url=a.dictionary.resource.url+":"+
a.name;this.token=a;this.set();a.attach(this.set,this)},set:function(){return b.Token.prototype.set.call(this,"markup"==this.token.type?'<span class="basisjs-markup" data-basisjs-l10n="'+(this.token.name+"@"+this.token.dictionary.resource.url)+'">'+String(this.token.value)+"</span>":"")},destroy:function(){b.Token.prototype.destroy.call(this);this.token=null}}),c=function(){function e(a){return(a.prefix?a.prefix+":":"")+a.name}function c(a,e){w[e]||("#"==e.charAt(0)?w[e]=String.fromCharCode("x"==
e.charAt(1)||"X"==e.charAt(1)?parseInt(e.substr(2),16):e.substr(1)):G&&(G.innerHTML=a,w[e]=G.firstChild?G.firstChild.nodeValue:a));return w[e]||a}function h(a){return(a=a.refs)&&a.length?a:0}function d(a,e){function h(a){for(var e,b=[],k=[],d={},q=0;q<a.length;q++)q%2?(e=a[q],d[e]||(d[e]=b.length,b.push(e)),k.push(d[e])):a[q]&&k.push(a[q].replace(K,c));return[b,k]}var b=0,k,q;if(e)switch(a){case "class":if(k=e.match(t)){for(var A=[],b=[],s=0,f;f=k[s];s++)(q=f.match(y))?b.push([q[1]||"",q[2]]):A.push(f);
e=A.join(" ")}break;case "style":A=[];b=[];if(k=e.match(na))for(s=0;f=k[s];s++)q=f.match(pa),f=q[1],e=q[2].trim(),q=e.split(B),1<q.length?(q=h(q),q.push(f),b.push(q)):A.push(f+": "+e.replace(K,c));(e=A.join("; "))&&(e+=";");break;default:k=e.split(p),1<k.length?b=h(k):e=e.replace(K,c)}b&&!b.length&&(b=0);return{binding:b,value:e,type:ha[a]||2}}function k(a,c,b){a=a.attrs;for(var A=[],f,s=0,g;g=a[s];s++)if("b"==g.prefix)switch(g.name){case "ref":for(g=(g.value||"").trim().split(/\s+/),f=0;f<g.length;f++)q(c,
g[f])}else if(f=g.name.match(fa))A.push(f[1]==g.value?[S,f[1]]:[S,f[1],g.value]);else{f=d(g.name,g.value);var F=[f.type,f.binding,h(g)];2==f.type&&F.push(e(g));!f.value||b&&f.binding&&2==f.type||F.push(f.value);A.push(F)}return A.length?A:0}function q(a,e){a[g]||(a[g]=[]);Y(a[g],e);"element"!=e&&(a[v]=1==a[g].length?e:0)}function A(a,e){var c=a[g].indexOf(e);if(-1!=c){var h=a[v]&&"number"==typeof a[v];a[g].splice(c,1);h&&c==a[v]-1&&(a[v]=e);a[g].length?h&&(a[v]-=c<a[v]-1):a[g]=0}}function s(a){var c=
{};if(a.attrs)for(var h=0,b;b=a.attrs[h];h++)c[e(b)]=b.value;return c}function F(a,e){for(var c=0;c<e.length;c++)Y(a,e[c])}function X(g,m,t){function y(a,e,c){var h=s(a);e&&(h.name=e);if(h.name&&u.test(h.name)){var b=G[h.ref||"element"];if(b&&b.token[r]==C){e=b.token;var k=(a=h.name.match(fa))?S:ha[h.name]||z,q=ma[k]||$,f=e&&U(e,h.name,function(a){return a[r]==S?"event-"+a[1]:ga[a[r]]||a[da]},l);f||"remove"==c||(a?f=[k,a[1]]:(f=[k,0,0,k==z?h.name:""],k==z&&f.push("")),e||(e=[],b.token.push(e)),e.push(f));
b="class"==h.name||"style"==h.name;switch(c){case "set":if(f[r]==S){h.value==a[1]?f.length=2:f[q]=h.value;break}c=d(h.name,h.value);f[v]=c.binding;t.optimizeSize&&f[v]&&!b?f.length=q:f[q]=c.value||"";if(b&&!f[v]&&!f[q]){J(e,f);break}break;case "append":c=d(h.name,h.value);if(!a)if(c.binding)if(k=f[v])switch(h.name){case "style":for(var A={},h=0,g;g=k[h];h++)A[g[2]]=h;for(h=0;g=c.binding[h];h++)g[2]in A?k[A[g[2]]]=g:k.push(g);break;case "class":k.push.apply(k,c.binding);break;default:for(c.binding[0].forEach(function(a){Y(this,
a)},k[0]),h=0;h<c.binding[1].length;h++)A=c.binding[1][h],"number"==typeof A&&(A=k[0].indexOf(c.binding[0][A])),k[1].push(A)}else f[v]=c.binding,b||f[v][1].unshift(f[q]);else!b&&f[v]&&f[v][1].push(h.value);c.value&&(f[q]=(f[q]||"")+(f[q]&&(a||b)?" ":"")+c.value);if(b&&!f[v]&&!f[q]){J(e,f);break}break;case "remove":f&&J(e,f)}}}}for(var na=[],pa=0,L,B;L=g[pa];pa++){var p=h(L),w=p&&1==p.length?p[0]:0;switch(L.type){case C:if("b"==L.prefix){var N=s(L);switch(L.name){case "resource":case "style":N.src&&
m.resources.push(I.resolve(m.baseURI+N.src));break;case "l10n":N.src&&(m.dictURI=I.resolve(m.baseURI,N.src));break;case "define":if("name"in N&&!m.defines[N.name])switch(N.type){case "bool":m.defines[N.name]=["true"==N["default"]?1:0];break;case "enum":L=N.values?N.values.trim().split(" "):[],m.defines[N.name]=[L.indexOf(N["default"])+1,L]}break;case "text":L=L.childs[0];g[pa--]=b.object.extend(L,{refs:(N.ref||"").trim().split(/\s+/),value:"notrim"in N?L.value:L.value.replace(/^\s*[\r\n]+|[\r\n]\s*$/g,
"")});break;case "include":if(w=N.src){w=(p=/^#\d+$/.test(w))?w.substr(1):w;w=p?R[w]:/^[a-z0-9\.]+$/i.test(w)&&!/\.tmpl$/.test(w)?f(w):b.resource(I.resolve(m.baseURI+w));if(!w)continue;if(-1==P.indexOf(w)){Y(m.deps,w);P.push(w);p?(w.source.bindingBridge&&Y(m.deps,w.source),p=O(w.source,w.baseURI,!0,t)):p=O(w,w.url?I.dirname(w.url)+"/":"",!0,t);P.pop();p.resources&&!1=="no-style"in N&&F(m.resources,p.resources);p.deps&&F(m.deps,p.deps);var G=aa(p.tokens),w=(L.childs||[]).slice();N["class"]&&w.push({type:C,
prefix:"b",name:"append-class",attrs:[{type:z,name:"value",value:N["class"]}]});N.id&&w.push({type:C,prefix:"b",name:"set-attr",attrs:[{type:z,name:"name",value:"id"},{type:z,name:"value",value:N.id}]});N.ref&&G.element&&N.ref.trim().split(/\s+/).map(function(a){q(G.element.token,a)});for(var N=0,D;D=w[N];N++)if(D.type==C&&"b"==D.prefix)switch(D.name){case "replace":case "remove":case "before":case "after":L="replace"==D.name||"remove"==D.name;var E=s(D),H="ref"in E||!L?E.ref:"element";if(H=H&&G[H])E=
H.owner.indexOf(H.token),-1!=E&&(L=[E+("after"==D.name),L],"remove"!=D.name&&(L=L.concat(X(D.childs,m,t)||[])),H.owner.splice.apply(H.owner,L));break;case "prepend":case "append":E=s(D);(L=(H=(H="ref"in E?E.ref:"element")&&G[H])&&H.token)&&L[r]==C&&(E=X(D.childs,m,t)||[],"prepend"==D.name?L.splice.apply(L,[l,0].concat(E)):L.push.apply(L,E));break;case "attr":case "set-attr":y(D,!1,"set");break;case "append-attr":y(D,!1,"append");break;case "remove-attr":y(D,!1,"remove");break;case "class":case "append-class":y(D,
"class","append");break;case "set-class":y(D,"class","set");break;case "remove-class":y(D,"class","remove");break;case "add-ref":E=s(D);(L=(H=(H="ref"in E?E.ref:"element")&&G[H])&&H.token)&&E.name&&q(L,E.name);break;case "remove-ref":E=s(D),(L=(H=(H="ref"in E?E.ref:"element")&&G[H])&&H.token)&&A(L,E.name||E.ref)}else p.tokens.push.apply(p.tokens,X([D],m,t)||[]);G.element&&A(G.element.token,"element");na.push.apply(na,p.tokens)}}}continue}B=[1,w,p,e(L)];B.push.apply(B,k(L,B,t.optimizeSize)||[]);B.push.apply(B,
X(L.childs,m,t)||[]);break;case a:p&&2==p.length&&U(p,"element")&&(w=p[+!p.lastSearchIndex]);if(w&&(N=ka(w,m.dictURI).split(/[:@\{]/),"l10n"==N[0]&&3==N.length))if(N[2]){if(N=N.slice(1).join("@"),N=b.l10n.token(N),D=x(N),m.l10nResolved=!0,D&&"markup"==N.type){g[pa--]=sa('<b:include src="#'+D.templateId+'"/>')[0];continue}}else J(p,w),0==p.length&&(p=null),w=0,L.value=L.value.replace(/\}$/,"@undefined}");B=[3,w,p];p&&L.value=="{"+p.join("|")+"}"||B.push(L.value.replace(K,c));break;case n:if(t.optimizeSize&&
!w&&!p)continue;B=[8,w,p];t.optimizeSize||p&&L.value=="{"+p.join("|")+"}"||B.push(L.value.replace(K,c))}for(;0===B[B.length-1];)B.pop();na.push(B)}return na.length?na:0}function ka(a,e){if("string"!=typeof a)return a;var c=a.split(":");2==c.length&&"l10n"==c[0]&&-1==c[1].indexOf("@")&&(c[1]=c[1]+"@"+e);return c.join(":")}function aa(e,c,h,b){h||(h={});b=b||0;for(var k;k=e[b];b++)if(k[r]!=S){var d=k[g];if(d)for(var q=d.length-1,f;f=d[q];q--)-1!=f.indexOf(":")?A(k,f):(h[f]&&A(h[f].token,f),k[v]==f&&
(k[v]=q+1),h[f]={owner:e,token:k});switch(k[r]){case a:k[v]=ka(k[v],c);break;case z:if(k[v])for(k=k[v][0],q=0;q<k.length;q++)k[q]=ka(k[q],c);break;case C:aa(k,c,h,l)}}return h}function m(a,e,c,h){var b=0;h=h||0;for(var k;k=a[h];h++)if(k[r]==C&&(b+=m(k,e,c,l)),k[r]==D||k[r]==z&&"class"==k[da]){var d=k[v],q=$-(k[r]==D);if(d){for(var f=(k[q]||"").trim().split(" "),A=0,g;g=d[A];A++)if(!(2<g.length)){var s=g[1].split(":").pop(),F=e.defines[s];F?(g.push.apply(g,F),F.used=!0,F[0]&&(1==F.length?Y(f,g[0]+
s):Y(f,g[0]+F[1][F[0]-1]))):b++}k[q]=f.join(" ");c.optimizeSize&&!k[q]&&(k.length=q)}}return b}var u=/^[a-z_][a-z0-9_\-]*$/i,t=/(\S+)/g,y=/^([a-z_][a-z0-9_\-]*)?\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,na=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,pa=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,B=/\{([a-z_][a-z0-9_]*)\}/i,p=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,K=/&([a-z]+|#[0-9]+|#x[0-9a-f]{1,4});?/gi,w=b.NODE_ENV?node_require("./template/htmlentity.json"):
{},G=b.NODE_ENV?null:document.createElement("div"),P=[];return function(a,e,c,h){c=c||{};var k=[],d={sourceUrl:h,baseURI:e||"",tokens:null,resources:[],deps:[],defines:{},unpredictable:!0,warns:k};d.dictURI=h?b.path.resolve(h):e||"";d.dictURI&&(e=b.path.extname(d.dictURI))&&".l10n"!=e&&(d.dictURI=d.dictURI.substr(0,d.dictURI.length-e.length)+".l10n");a.templateTokens?a.warns&&k.push.apply(k,a.warns):a=sa(String(a));d.tokens=X(a,d,c);d.tokens||(d.tokens=[[3,0,0,""]]);q(d.tokens[0],"element");aa(d.tokens,
d.dictURI);d.unpredictable=!!m(d.tokens,d,c);delete d.defines;delete d.l10nResolved;k.length||(d.warns=!1);return d}}(),h={".css":!0},k=M(null,{className:d+".Template",__extend__:function(a){return a instanceof k?a:a instanceof q?new A(a):new k(a)},source:"",baseURI:"",init:function(a){if(4096==R.length)throw 7;this.attaches_=[];this.setSource(a||"");this.templateId=R.push(this)-1},bindingBridge:{attach:function(a,e,c){for(var h=0,b;b=a.attaches_[h];h++)if(b.handler==e&&b.context==c)return;a.attaches_.push({handler:e,
context:c})},detach:function(a,e,c){for(var h=0,b;b=a.attaches_[h];h++)if(b.handler==e&&b.context==c){a.attaches_.splice(h,1);break}},get:function(){}},createInstance:function(a,e,c,h,b){t.call(this);return this.createInstance(a,e,c,h,b)},clearInstance:function(a){},getBinding:function(a){t.call(this);return this.getBinding(a)},setSource:function(a){var e=this.source;if(e!=a){if("string"==typeof a){var c=a.match(/^([a-z]+):/);if(c){var h=c[1];a=a.substr(c[0].length);switch(h){case "file":a=b.resource(a);
break;case "id":a=ba(a);break;case "tokens":a=b.string.toObject(a);a.isDecl=!0;break;case "path":a=f(a)}}}if(e&&e.bindingBridge){if(c=e.url&&G[e.url])J(c,this),c.length||delete G[e.url];this.baseURI="";this.source.bindingBridge.detach(e,u,this)}a&&a.bindingBridge&&(a.url&&(this.baseURI=I.dirname(a.url)+"/",G[a.url]||(G[a.url]=[]),Y(G[a.url],this)),a.bindingBridge.attach(a,u,this));this.source=a;u.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder();this.source=this.resources=
this.getBinding=this.createInstance=this.attaches_=null}}),q=function(a){b.object.extend(this,a)},A=b.Class(null,{className:d+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:k,ruleEvents:null,rule:String,init:function(a){this.ruleRet_=[];this.templates_=[];this.rule=a.rule;if((a=a.events)&&a.length){this.ruleEvents={};for(var e=0,c;c=a[e];e++)this.ruleEvents[c]=!0}W.add(this)},resolve:function(a){a=this.rule(a);var e=this.ruleRet_.indexOf(a);-1==e&&(this.ruleRet_.push(a),e=this.templates_.push(new this.templateClass(a))-
1);return this.templates_[e]},destroy:function(){this.ruleRet_=this.templates_=this.rule=null}}),ka=M(null,{className:d+".Theme",get:f}),F=M(b.Token,{className:d+".SourceWrapper",path:"",url:"",baseURI:"",init:function(a,e){this.path=e;b.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var a=Q(aa,this.path);this.value!=a&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,
F.prototype.apply,this),this.url=(this.value=a)&&a.url||"",this.baseURI=("object"==typeof a||"function"==typeof a)&&"baseURI"in a?a.baseURI:I.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,F.prototype.apply,this),this.apply())},destroy:function(){this.baseURI=this.url=null;this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this);b.Token.prototype.destroy.call(this)}}),s={},X={},pa=Z(),aa="base",na=[];
W.add({destroy:function(){for(var a in X)X[a].destroy();X=s=null;a=0;for(var e;e=R[a];a++)e.destroy();R=null}});w.exports={DECLARATION_VERSION:2,TYPE_ELEMENT:C,TYPE_ATTRIBUTE:z,TYPE_ATTRIBUTE_CLASS:D,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:S,TYPE_TEXT:a,TYPE_COMMENT:n,TOKEN_TYPE:r,TOKEN_BINDINGS:v,TOKEN_REFS:g,ATTR_NAME:da,ATTR_VALUE:$,ATTR_NAME_BY_TYPE:ga,ELEMENT_NAME:3,ELEMENT_ATTRS:l,ELEMENT_CHILDS:5,TEXT_VALUE:3,COMMENT_VALUE:3,L10nProxyToken:e,TemplateSwitchConfig:q,TemplateSwitcher:A,Template:k,
SourceWrapper:F,switcher:function(a,e){var c=b.array(arguments);e=c.pop();return new q({rule:e,events:c.join(" ").trim().split(/\s+/)})},tokenize:sa,getDeclFromSource:O,makeDeclaration:c,getL10nTemplate:x,Theme:ka,theme:Z,getThemeList:function(){return b.object.keys(s)},currentTheme:function(){return s[aa].theme},setTheme:function(a){return Z(a).apply()},onThemeChange:function(a,e,c){na.push({fn:a,context:e});c&&a.call(e,aa)},define:pa.define,get:f,getPathList:function(){return b.object.keys(X)}}},
"6.js":function(d,w,b,M,ja,ia,oa,la){function x(b,d){return new Function(b,d)}b.require("./5.js");var P=b.template.TYPE_ELEMENT,V=b.template.TYPE_ATTRIBUTE,u=b.template.TYPE_TEXT,p=b.template.TYPE_COMMENT,O=b.template.TOKEN_TYPE,t=b.template.TOKEN_BINDINGS,ba=b.template.TOKEN_REFS,f=b.template.ATTR_NAME,T=b.template.ATTR_NAME_BY_TYPE,Q=b.template.ELEMENT_NAME,Z=b.template.ELEMENT_ATTRS,W={},I=function(){function b(a,d){for(var f=0,g;g=a[f];f++)-1==g.indexOf(":")&&z.push(g+":"+d)}function d(a){var b=
C.length,b=x[b]||"r"+b;C.push(b+"="+a);return b}function w(n,r,v){for(var g,z,x,G,I=0,M=0,V=0,l;l=n[I];I++,M++,G=!1){I?n[I+1]?(l[O]==n[I-1][O]&&l[O]==u&&V++,g=r+".childNodes["+(v?M:M+(V?" + "+V+" * TEXT_BUG":""))+"]"):g=r+".lastChild":g=r+".firstChild";if(z=l[ba])G=!0,g=d(g),b(z,g);l[t]&&(l[t]&&"number"==typeof l[t]&&(l[t]=l[ba][l[t]-1]),G||(G=!0,g=d(g)),D.push([l[O],g,l[t]]));if(l[O]==P){x=-1;r==a&&S.push(g+".basisTemplateId");G||(g=d(g),x=C.length);for(var m=[],H=[],K=Z,y;y=l[K];K++)y[O]==P||y[O]==
u||y[O]==p?H.push(y):m.push(y);for(var K=0,B;B=m[K];K++)if(6!=B[O]){y=T[B[O]]||B[f];if(z=B[ba])G=!0,b(z,d(g+'.getAttributeNode("'+y+'")'));if(z=B[t])switch(G=!0,y){case "class":B=0;for(var E;E=z[B];B++)E=[2,g,E[1],y,E[0]].concat(E.slice(2)),D.push(E);break;case "style":for(B=0;E=z[B];B++)for(var U=0,W;W=E[0][U];U++)D.push([2,g,W,y,E[0],E[1],E[2]]);break;default:for(B=0;W=z[0][B];B++)D.push([2,g,W,y,z[0],z[1],l[Q]])}}H.length&&w(H,g,v);G||x!=C.length||C.pop()}}}var x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
C,z,D,S,a;return function(b,d,f){C=[];z=[];D=[];S=[];a=d||"_";w(b,a,f);return{path:C,ref:z,binding:D,markedElementList:S}}}(),U=function(){function d(b,f,w){var a=[],n=b[5];b=b[4];for(var r,v,g=0;g<n.length;g++)if("string"==typeof n[g])a.push('"'+n[g].replace(/"/g,'\\"')+'"');else if(r=b[n[g]],v=r.indexOf(":"),-1==v)a.push("l10n"==f?'"{'+r+'}"':"bool"==f?"(__"+r+'||"")':"__"+r);else{var p=null,u=r.substr(v+1).replace(t,function(a,b){p=b;return""});p?a.push(w[r.substr(v+1)]):a.push('__l10n["'+u+'"]')}1==
a.length&&a.push('""');return a.join("+")}var t=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,w={disabled:"*",checked:["input"],value:["input","textarea"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},p={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0},C={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(z){function D(d){W[d]=!0;a.push(n+"="+d+"("+b.array(arguments,1)+");")}for(var x={},a,n,r=[],v=[],g,I,O=[],M={},U=1,W={resolve:!0},
Q,l=0,m;m=z[l];l++){var H=m[0],K=m[1],y=m[2];if(-1==["set","templateId_"].indexOf(y)){var B=y.split(":");(Q="anim"==B[0])&&(y=B[1]);a=x[y];n="_"+l;g="__"+y;if("l10n"==B[0]&&B[1]){var B=B[1],E=null,T=B.replace(t,function(a,b){E=b;return""});if(E){!1==B in M&&(g="$l10n_"+U++,M[B]=g,O.push('set("'+g+'",'+g+")"),r.push(g+'=tools.l10nToken("'+T+'").computeToken()'),a=x[E],a||(a=x[E]=[],r.push("__"+E)),a.push(g+".set(__"+E+");"));y=M[B];n="_"+l;g="__"+y;a=x[y];a||(a=x[y]=[],r.push(g));H==u?(r.push(n+"="+
K),D(C[H],K,n,"value")):(g='"'+m[f]+'"',r.push(n),D("bind_attr",K,g,n,d(m,!1,M)));continue}I||(I={});x[T]||(x[T]=[],I[T]=[]);a=x[T];a.l10n=!0;if(H==u){I[T].push(K+".nodeValue=value;");a.push(K+'.nodeValue=__l10n["'+T+'"]'+(E?"[__"+E+"]":"")+";");continue}else I[T].push("bind_attr("+[K,'"'+m[f]+'"',"NaN",d(m,"l10n",M)]+");")}a||(a=x[y]=[],r.push(g));if(H!=V)if(a.nodeBind)switch(H){case P:D(C[H],K,K,"value!==null?String(value):null");break;case u:a.push(K+".nodeValue=value;")}else r.push(n+"="+K),D(C[H],
K,n,"value"),a.nodeBind=n;else switch(g=m[f],g){case "class":g="";B="value";H=m[4];B=m.length;if(6<=B)if(6==B||"string"==typeof m[6])6==B?(B='value?"'+y+'":""',m[5]&&(g=H+y)):(H="",B='value?"'+m[6]+'":""',m[5]&&(g=m[6]));else{if(!m[6].length)continue;7==B?(B=m[6].map(function(a){return'value=="'+a+'"'}).join("||")+'?value:""',m[5]&&(g=H+m[6][m[5]-1])):(H="",B=m[6].map(function(a,b){return'value=="'+a+'"?"'+this[b]+'"'},m[7]).join(":")+':""',m[5]&&(g=m[7][m[5]-1]))}else B='typeof value=="string"||typeof value=="number"?value:(value?"'+
y+'":"")';r.push(n+'="'+g+'"');D("bind_attrClass",K,n,B,'"'+H+'"',Q);break;case "style":r.push(n+'=""');D("bind_attrStyle",K,'"'+m[6]+'"',n,d(m,!1,M));break;default:Q=w[g],r.push(n+"="+d(m,"l10n",M)),D("bind_attr",K,'"'+g+'"',n,Q&&p[g]?d(m,"bool",M)+'?"'+g+'":""':d(m,!1,M)),!Q||"*"!=Q&&-1==Q.indexOf(m[6].toLowerCase())||a.push("if("+K+"."+g+"!="+n+")"+K+"."+g+"="+(p[g]?"!!"+n:n)+";")}}}v.push(';function set(bindName,value){if(typeof bindName!="string")');for(y in x)x[y].nodeBind&&v.push("if(bindName==="+
x[y].nodeBind+')bindName="'+y+'";else ');v.push("return;");v.push("value=resolve.call(instance,bindName,value,Attaches);switch(bindName){");for(y in x)v.push('case"'+y+'":'+(x[y].l10n?x[y].join(""):"if(__"+y+"!==value){__"+y+"=value;"+x[y].join("")+"}")+"break;");v.push("}}");z=[];for(var Z in W)z.push(Z+"=tools."+Z);return{keys:b.object.keys(x).filter(function(a){return-1==a.indexOf("@")}),tools:z,vars:r,set:v.join(""),l10n:I,l10nCompute:O}}}();w.exports={getFunctions:function(d,f,t,w,p){if(f=W[t&&
b.path.relative(t)])return f;d=I(d,"_",p);p=U(d.binding);f=d.markedElementList.join("=");t={keys:p.keys,l10nKeys:b.object.keys(p.l10n)};if(p.l10n){w=[];for(var u in p.l10n)w.push('case"'+u+'":if(value==null)value="{'+u+'}";__l10n[token]=value;'+p.l10n[u].join("")+"break;");t.createL10nSync=x(["_","__l10n","bind_attr","TEXT_BUG"],"var "+d.path+";return function(token, value){switch(token){"+w.join("")+"}}")}t.createInstance=x("tid map build tools __l10n TEXT_BUG".split(" "),"var getBindings=tools.createBindingFunction(["+
p.keys.map(function(b){return'"'+b+'"'})+"]),"+(p.tools.length?p.tools+",":"")+"Attaches=function(){};Attaches.prototype={"+p.keys.map(function(b){return b+":null"})+"};return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){var _=build(),"+d.path.concat(p.vars)+",instance={context:obj,action:onAction,rebuild:onRebuild,handler:null,bindings:bindings,bindingInterface:bindingInterface,attaches:null,tmpl:{"+[d.ref,"templateId_:id","set:set"]+"}}"+(f?";if(obj||onAction)"+
f+"=(id<<12)|tid":"")+p.set+";instance.handler=bindings?getBindings(bindings,obj,set,bindingInterface):null;"+p.l10nCompute+";return instance}");return t}}}};(function(d){function w(a,c){for(var h in c)a[h]=c[h];return a}function b(a,c){for(var h in c)!1==h in a&&(a[h]=c[h]);return a}function M(a){var c=[],h;for(h in a)c.push(h);return c}function ja(a,c){var h={};if(!c)return w(h,a);for(var b=0,d;d=c[b++];)d in a&&(h[d]=a[d]);return h}function ia(){return t(arguments).reduce(w,{})}function oa(a,c,
h){var b=[],d;for(d in a)b.push(c.call(h,d,a[d]));return b}function la(a){return a}function x(){}function P(a){var c=n[a.url];if(c)for(var b=0;b<c.length;b++)c[b](a.get(),a.url)}function V(a,c,b){try{return new Function(c,b)}catch(d){W.error("Compilation error at "+a+("line"in d?":"+(d.line-1):"")+": "+d)}}function u(a){var c=a.split(".")[0],b=a.replace(/\./g,"/")+".js";!1==a in $&&(!1==c in ga&&(ga[c]=J.baseURI),c==a&&(fa[ga[c]+b]=c),$[a]=ga[c]+b);return $[a]}function p(a){a=a.split(".");var c;c=
a[0];var b=da[c];b||(b=da[c]=new ha(c),b.namespaces_={},b.namespaces_[c]=b,R.noConflict||(d[c]=b));"bbt"!=c||ya||(ya=da[c]);for(var b=c=b,k=1,f;f=a[k];k++){if(!b[f]){var g=a.slice(0,k+1).join(".");b[f]=new ha(g);c.namespaces_[g]=b[f]}b=b[f]}return da[a.join(".")]=b}function O(a,c){if(R.extProto)for(var b in c)a.prototype[b]=function(a,e){return function(){var e=[this];Array.prototype.push.apply(e,arguments);return c[a].apply(c,e)}}(b,a.name||a.toString().match(/^\s*function\s*(\w*)\s*\(/)[1])}function t(a,
c){if(null!=a){var b=a.length;if("undefined"==typeof b||"[object Function]"==T.call(a))return[a];c||(c=0);if(0<b-c){for(var d=[],f=0,g=c;g<b;)d[f++]=a[g++];return d}}return[]}function ba(a,c,b){for(var d=[],f="function"==typeof c,g=0;g<a;g++)d[g]=f?c.call(b,g,d):c;return d}var f=d.document,T=Object.prototype.toString,Q=function(){function a(e){if(b.test(e)){var c=e.split("."),d=c[0],k=c[1],f=c[2];switch(c.length){case 1:e=function(a){return null!=a?a[d]:a};break;case 2:e=function(a){return null!=
a?a[d][k]:a};break;case 3:e=function(a){return null!=a?a[d][k][f]:a};break;default:e=function(a){if(null!=a){a=a[d][k][f];for(var e=3,b;b=c[e];e++)a=a[b]}return a}}return e}return new Function("object","return object != null ? object."+e+" : object")}var c=1,b=/^[a-z$_][a-z$_0-9]*(\.[a-z$_][a-z$_0-9]*)*$/i,d=[],f={},g={};return function(b,h){var s,l,m;if(!b||b===Z)return Z;"function"==typeof b?(m=b.basisGetterId_)?s=d[Math.abs(m)-1]:(s=function(a){return b(a)},s.base=b,s.__extend__=Q,m=d.push(s),
b.basisGetterId_=-m,s.basisGetterId_=m):(s=f[b])?m=s.basisGetterId_:(s=a(b),s.base=b,s.__extend__=Q,m=d.push(s),s.basisGetterId_=m,f[b]=s);l=null!=h&&typeof h;if(!l)return s;var n=g[m],p;if("string"==l)p=l+h;else if("function"==l)p=h.basisModId_;else if("object"!=l)return s;if(p&&n&&n[p])return n[p];"function"==typeof s.base&&(s=s.base);switch(l){case "string":l=function(a){return y.format(h,s(a))};break;case "function":p||(p=l+c++,h.basisModId_=p);l=function(a){return h(s(a))};break;default:l=function(a){return h[s(a)]}}l.base=
s.base||s;l.__extend__=Q;p&&(n||(n={},g[m]=n),n[p]=l,l.mod=h,l.basisGetterId_=d.push(l));return l}}(),Z=w(function(){},{__extend__:Q}),W=function(){var a={log:x,info:x,warn:x,error:x};"undefined"!=typeof console&&oa(a,function(c){a[c]="bind"in Function.prototype&&"function"==typeof console[c]?Function.prototype.bind.call(console[c],console):function(){Function.prototype.apply.call(console[c],console,arguments)}});return a}(),I=d.setImmediate||d.msSetImmediate,U=d.clearImmediate||d.msSetImmediate;
I&&(I=I.bind(d));U&&(U=U.bind(d));I||function(){var a=function(){var a={},e=1;I=function(){a[++e]={fn:arguments[0],args:t(arguments,1)};c(e);return e};U=function(e){delete a[e]};return function(e){var c=a[e];if(c)try{"function"==typeof c.fn?c.fn.apply(void 0,c.args):(d.execScript||function(a){d.eval.call(d,a)})(String(c.fn))}finally{delete a[e]}}}(),c=function(c){setTimeout(function(){a(c)},0)};if(d.process&&"function"==typeof process.nextTick)c=function(c){process.nextTick(function(){a(c)})};else if(d.MessageChannel)c=
function(c){var b=new d.MessageChannel;b.port1.onmessage=function(){a(c)};b.port2.postMessage("")};else{var b=d.postMessage&&!d.importScripts;if(b){var k=d.onmessage;d.onmessage=function(){b=!1};d.postMessage("","*");d.onmessage=k}if(b)k=function(c){c&&c.source==d&&(c=String(c.data).split("basisjs.setImmediate")[1])&&a(c)},d.addEventListener?d.addEventListener("message",k,!0):d.attachEvent("onmessage",k),c=function(a){d.postMessage("basisjs.setImmediate"+a,"*")};else if(f&&"onreadystatechange"in f.createElement("script"))var q=
c,c=function ka(b){"undefined"!=typeof ea&&(c=q,ea.head.ready(function(){c=function(c){var b=f.createElement("script");b.onreadystatechange=function(){a(c);b.onreadystatechange=null;ea.remove(b);b=null};ea.head.add(b)}}));c===ka?q(b):c(b)}}}();var Y="object"==typeof process&&"[object process]"==T.call(process),J=function(){var a=/^([^\/]+:|\/)/,c=/^[a-zA-Z0-9\-]+:\/?/,b=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,d=/[\?#].*$/,f={},g="",l;Y?(g=require("path").resolve(".").replace(/\\/g,"/"),l=g.replace(/^[^\/]*/,
""),g=g.replace(/\/.*/,"")):(l=location.pathname.replace(/[^\/]+$/,""),g=location.protocol+"//"+location.host);return f={baseURI:l,origin:g,normalize:function(a){a=(a||"").replace(c,"/").replace(b,"/").replace(d,"");for(var e=[],f=a.split("/"),q=0;q<f.length;q++)".."==f[q]?(1<e.length||e[0])&&e.pop():!f[q]&&q||"."==f[q]||e.push(f[q]);return e.join("/")||("/"===a[0]?"/":"")},dirname:function(a){a=f.normalize(a);return a.replace(/\/([^\/]*)$|^[^\/]+$/,"")||("/"==a[0]?"/":".")},extname:function(a){return(a=
f.normalize(a).match(/[^\/](\.[^\/\.]*)$/))?a[1]:""},basename:function(a,e){var c=f.normalize(a).match(/[^\\\/]*$/),c=c?c[0]:"";e==f.extname(c)&&(c=c.substring(0,c.length-e.length));return c},resolve:function(c,b){for(var h=t(arguments).reverse(),d=[],k=!1,g=0;!k&&g<h.length;g++)"string"==typeof h[g]&&(d.unshift(h[g]),k=a.test(h[g]));k||d.unshift("/"==l?"":l);return f.normalize(d.join("/"))},relative:function(a,e){"string"!=typeof e&&(e=a,a=l);a=f.normalize(a);e=f.normalize(e);if("/"==a[0]&&"/"!=
e[0])return a;if("/"==e[0]&&"/"!=a[0])return e;for(var c=a.replace(/^\/$/,"").split(/\//),b=e.replace(/^\/$/,"").split(/\//),h=[],d=0;b[d]==c[d]&&"string"==typeof c[d];)d++;for(c=c.length-d;0<c;c--)h.push("..");return h.concat(b.slice(d).filter(Boolean)).join("/")}}}(),R={path:{basis:""},noConflict:!0,autoload:"./0.js"},G=function(){function a(e){return"function"==typeof e&&!!e.basisClassId_}function c(a){for(var e=this;e&&e!==a;)e=e.superClass_;return e===a}function b(m,n){var p=g++;"function"!=
typeof m&&(m=s);var r=function(){};r.prototype=m.prototype;for(var r=new r,p={basisClassId_:p,superClass_:m,extendConstructor_:!!m.extendConstructor_,isSubclassOf:c,subclass:function(){return b.apply(null,[u].concat(t(arguments)))},extend:d,__extend__:function(c){return c&&c!==l&&("object"==typeof c||"function"==typeof c&&!a(c))?s.create.call(null,u,c):c},prototype:r},F=1,v;v=arguments[F];F++)p.extend(v);var u=p.extendConstructor_?function(a){this.basisObjectId=f.id++;var e,c;for(c in a)e=this[c],
this[c]=e&&e.__extend__?e.__extend__(a[c]):a[c];this.init();this.postInit()}:function(){this.basisObjectId=f.id++;this.init.apply(this,arguments);this.postInit()};r.constructor=u;for(var x in r)r[x]===l&&(r[x]=u);w(u,p);return u}function d(c){var b=this.prototype;"function"!=typeof c||a(c)||(c=c(this.superClass_.prototype));c.prototype&&(c=c.prototype);for(var h in c){var k=c[h],f=b[h];"className"==h||"extendConstructor_"==h?this[h]=k:b[h]=f&&f.__extend__?f.__extend__(k):k}m&&c[h="toString"]!==T&&
(b[h]=c[h]);return this}var f={id:1},g=1,l={},m=function(){for(var a in{toString:1})return!1;return!0}(),s=w(b,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var a in this)hasOwnProperty.call(this,a)&&(this[a]=null);this.destroy=x}}}),n=function(a,e,c){return{__extend__:function(a){if(!a||a&&a.__extend__)return a;var c=function(){};c.prototype=this;c=new c;e(c,a);return c}}.__extend__(a||{})},
p=function(a){return n(a,w,"extensibleProperty")};return w(s,{SELF:l,create:b,isClass:a,customExtendProperty:n,extensibleProperty:p,nestedExtendProperty:function(a){return n(a,function(a,e){for(var c in e){var b=a[c];a[c]=b&&b.__extend__?b.__extend__(e[c]):p(e[c])}},"nestedExtendProperty")},oneFunctionProperty:function(a,e){var c=function(e){var b={__extend__:c};if(e){if(e.__extend__)return e;for(var h in e)e[h]&&(b[h]=a)}return b};return c(e||{})}})}(),C=G(null,{className:"basis.Token",value:null,
handler:null,deferredToken:null,bindingBridge:{attach:function(a,c,b){a.attach(c,b)},detach:function(a,c,b){a.detach(c,b)},get:function(a){return a.get()}},init:function(a){this.value=a},get:function(){return this.value},set:function(a){this.value!==a&&(this.value=a,this.apply())},attach:function(a,c){this.handler={fn:a,context:c,handler:this.handler}},detach:function(a,c){for(var b=this,d;d=b,b=b.handler;)if(b.fn===a&&b.context===c){b.fn=x;d.handler=b.handler;break}},apply:function(){for(var a=this.get(),
c=this;c=c.handler;)c.fn.call(c.context,a)},deferred:function(){var a=this.deferredToken;a||(a=this.deferredToken=new D(this.value),this.attach(a.set,a));return a},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null);this.value=this.handler=null;this.detach=this.attach=x}}),z=function(){function a(){var e=c;c={};b=null;for(var d in e)e[d].apply()}var c={},b;return function(d){d.basisObjectId in c||(c[d.basisObjectId]=d,b||I(a))}}(),D=C.subclass({className:"basis.DeferredToken",
set:function(a){this.value!==a&&(this.value=a,z(this))},deferred:function(){return this}}),S={},a={},n={};(function(){var e="undefined"!=typeof wa?wa:null;if(e){for(var c in e)a[J.resolve(c)]=e[c];wa=null}})();var r=function(e,c){if(c||!a.hasOwnProperty(e)){var b="";if(Y)try{b=require("fs").readFileSync(e,"utf-8")}catch(d){}else{var f=new XMLHttpRequest;f.open("GET",e,!1);f.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString());f.setRequestHeader("X-Basis-Resource",1);f.send("");200<=f.status&&
400>f.status&&(b=f.responseText)}a[e]=b}return a[e]},v=function(e){e=J.resolve(e);if(!S[e]){var c=v.extensions[J.extname(e)],b=!1,d=!1,f,g=function(){if(b)return f;var a=r(e);c?d||(d=!0,f=c(a,e)):f=a;b=!0;P(g);g.apply();return f};w(g,w(new C,{url:e,fetch:function(){return g()},toString:function(){return"[basis.resource "+e+"]"},isResolved:function(){return b},update:function(l){l=String(l);b&&l==a[e]||(a[e]=l,c?d&&!c.permanent&&(f=c(l,e),P(g),g.apply()):(f=l,b=!0,P(g),g.apply()))},reload:function(){var c=
a[e],d=r(e,!0);d!=c&&(b=!1,g.update(d))},get:function(a){return a?r(e):g()},ready:function(a,e){if(b&&(a.call(e,g()),c&&c.permanent))return;g.attach(a,e);return g}}));S[e]=g}return S[e]};w(v,{isResource:function(a){return a?S[a.url]===a:!1},isResolved:function(a){return(a=v.get(a))?a.isResolved():!1},exists:function(a){return S.hasOwnProperty(J.resolve(a))},get:function(a){a=J.resolve(a);return v.exists(a)?v(a):null},getFiles:function(e){return M(e?a:S).map(J.relative)},extensions:{".js":w(function(a,
c){var d=fa[c];if(!d){var k=!0,d=J.dirname(c)+"/"+J.basename(c,J.extname(c)),f;for(f in R.path){var l=R.path[f]+f+"/";if(c.substr(0,l.length)==l){k=!1;d=d.substr(R.path[f].length);break}}d=d.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,".");k&&(d="implicit."+d)}da[d]||(f=p(d),f.exports=g({path:f.path,exports:f.exports},c,a).exports,f.exports&&f.exports.constructor===Object&&b(f,f.exports));return da[d].exports},{permanent:!0}),".css":function(a,c){var b=sa.resources[c];b?b.updateCssText(a):
b=new sa(c);return b},".json":function(a,c){if("object"==typeof a)return a;var b;try{a=String(a),b=ca.json.parse(a)}catch(d){}return b||null}}});var g=function(a,c,b){var k=J.dirname(c)+"/",f=b;a.exports||(a.exports={});"function"!=typeof f&&(f=V(c,"exports module basis global __filename __dirname resource require".split(" "),'"use strict";\n'+b));"function"==typeof f&&f.call(a.exports,a.exports,a,ca,d,c,k,function(a){return v(J.resolve(k,a))},function(a,e){return ma(a,e||k)});return a},da={},$={},
fa={},ga=ja(R.path);(function(a){if(a="undefined"!=typeof xa?xa:null)for(var c in a){var b=J.resolve(c),d=a[c];fa[b]=d;$[d]=b}})();var ha=G(null,{className:"basis.Namespace",init:function(a){this.name=a;this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(a){w(this.exports,a);return b(this,a)}}),ma=function(){if(Y){var a=module.constructor.prototype;return function(c,d){if(/[^a-z0-9_\.]/i.test(c)&&".js"!=J.extname(c))return c=J.resolve(d,c),require(c);
var k=a._compile,f=p(c);a._compile=function(a,e){this.basis=ca;a='var node_require = require;\nvar basis = module.basis;\nvar resource = function(filename){ return basis.resource(__dirname + "/" + filename) };\nvar require = function(filename, baseURI){ return basis.require(filename, baseURI || __dirname) };\n'+a;k.call(w(this,f),a,e)};var g=require(__dirname+"/"+c.replace(/\./g,"/"));(f.exports=g)&&g.constructor===Object&&b(f,g);a._compile=k;return g}}return function(a,e){a=/[^a-z0-9_\.]/i.test(a)||
".js"==J.extname(a)?J.resolve(e,a):u(a);return v(a).fetch()}}();b(Function.prototype,{bind:function(a){var c=this,b=t(arguments,1);return b.length?function(){return c.apply(a,b.concat.apply(b,arguments))}:function(){return c.apply(a,arguments)}}});b(Array,{isArray:function(a){return"[object Array]"===T.call(a)}});b(Array.prototype,{indexOf:function(a,c){c=parseInt(c,10)||0;if(0>c)return-1;for(;c<this.length;c++)if(this[c]===a)return c;return-1},lastIndexOf:function(a,c){var b=this.length;c=parseInt(c,
10);for(c=isNaN(c)||c>=b?b-1:(c+b)%b;0<=c;c--)if(this[c]===a)return c;return-1},forEach:function(a,c){for(var b=0,d=this.length;b<d;b++)b in this&&a.call(c,this[b],b,this)},every:function(a,c){for(var b=0,d=this.length;b<d;b++)if(b in this&&!a.call(c,this[b],b,this))return!1;return!0},some:function(a,c){for(var b=0,d=this.length;b<d;b++)if(b in this&&a.call(c,this[b],b,this))return!0;return!1},filter:function(a,c){for(var b=[],d=0,f=this.length;d<f;d++)d in this&&a.call(c,this[d],d,this)&&b.push(this[d]);
return b},map:function(a,b){for(var d=[],f=0,g=this.length;f<g;f++)f in this&&(d[f]=a.call(b,this[f],f,this));return d},reduce:function(a,b){var d=this.length,f=arguments.length;if(0==d&&1==f)throw 1;var g,l=0;1<f&&(g=b,l=1);for(f=0;f<d;f++)f in this&&(g=l++?a.call(null,g,this[f],f,this):this[f]);return g}});var l={flatten:function(a){return a.concat.apply([],a)},repeat:function(a,b){return l.flatten(ba(parseInt(b,10)||0,a))},search:function(a,b,d,f){a.lastSearchIndex=-1;d=Q(d||la);f=parseInt(f,10)||
0;for(var g=a.length;f<g;f++)if(d(a[f])===b)return a[a.lastSearchIndex=f]},lastSearch:function(a,b,d,f){a.lastSearchIndex=-1;d=Q(d||la);var g=a.length;f=isNaN(f)||null==f?g:parseInt(f,10);for(g=f>g?g:f;0<g--;)if(d(a[g])===b)return a[a.lastSearchIndex=g]},add:function(a,b){return-1==a.indexOf(b)&&!!a.push(b)},remove:function(a,b){var d=a.indexOf(b);return-1!=d&&!!a.splice(d,1)},has:function(a,b){return-1!=a.indexOf(b)},sortAsObject:function(a,b,d,f){b=Q(b);f=f?-1:1;return a.map(function(a,e){return{i:e,
v:b(a)}}).sort(d||function(a,b){return f*(a.v>b.v||-(a.v<b.v)||(a.i>b.i?1:-1))}).map(function(b){return a[b.i]},a)}};O(Array,l);if(![1,2].splice(1).length){var m=Array.prototype.splice;Array.prototype.splice=function(){var a=t(arguments);2>a.length&&(a[1]=this.length);return m.apply(this,a)}}var H=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,K=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi;b(String,{toLowerCase:function(a){return String(a).toLowerCase()},toUpperCase:function(a){return String(a).toUpperCase()},
trim:function(a){return String(a).trim()},trimLeft:function(a){return String(a).trimLeft()},trimRight:function(a){return String(a).trimRight()}});b(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var y={toObject:function(a,b){try{return(new Function("return 0,"+a))()}catch(d){if(b)throw 2;}},repeat:function(a,b){return Array(parseInt(b,10)+1||0).join(a)},qw:function(a){return(a=
a.trim())?a.split(/\s+/):[]},forRegExp:function(a){return a.replace(H,"\\$1")},format:function(a,b){var d=t(arguments,1);"object"==typeof b&&w(d,b);return a.replace(K,function(a,b,c,e,f){a=b in d?d[b]:f?"":a;return c&&!isNaN(a)?(a=Number(a),"."==c?a.toFixed(e):ra.lead(a,e)):a})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},camelize:function(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})},dasherize:function(a){return a.replace(/[A-Z]/g,function(a){return"-"+
a.toLowerCase()})}};O(String,y);if(11!="|||".split(/\|/).length+"|||".split(/(\|)/).length){var B=String.prototype.split;String.prototype.split=function(a,b){if(!a||!1==a instanceof RegExp||""==a.source)return B.apply(this,arguments);var d=[],f=0,g;for(a.global||(a=RegExp(a.source,/\/([mi]*)$/.exec(a)[1]+"g"));g=a.exec(this);)g[0]=this.substring(f,g.index),d.push.apply(d,g),f=a.lastIndex;d.push(this.substr(f));return d}}if("2"!="12".substr(-1)){var E=String.prototype.substr;String.prototype.substr=
function(a,b){return E.call(this,0>a?Math.max(0,this.length+a):a,b)}}var ra={fit:function(a,b,d){return!isNaN(b)&&a<b?Number(b):!isNaN(d)&&a>d?Number(d):a},lead:function(a,b,d){return String(a).replace(/\d+/,function(a){return 1<(b-=a.length-1)?Array(b).join(d||0)+a:a})},group:function(a,b,d){return String(a).replace(/\d+/,function(a){return a.replace(/\d/g,function(e,f){return!f+(a.length-f)%(b||3)?e:(d||" ")+e})})},format:function(a,b,d,f,g,l){a=a.toFixed(b);if(d||l)a=a.replace(/(\d+)(\.?)/,function(a,
b,c){return(d?ca.number.group(Number(b),3,d):b)+(c?l||c:"")});f&&(a=a.replace(/^-?/,"$&"+(f||"")));return a+(g||"")}};O(Number,ra);b(Date,{now:function(){return Number(new Date)}});var ta=function(){function a(){if("complete"==f.readyState&&f.body&&!h++)for(;g;)g.callback.call(g.context),g=g.next}function b(){try{f.documentElement.doScroll("left"),a()}catch(d){setTimeout(b,1)}}var h=!f||"complete"==f.readyState&&!!f.body,g;if(!h)if(f.addEventListener)f.addEventListener("DOMContentLoaded",a,!1),d.addEventListener("load",
a,!1);else{f.attachEvent("onreadystatechange",a);d.attachEvent("onload",a);try{!d.frameElement&&f.documentElement.doScroll&&b()}catch(l){}}return function(a,b){h?a.call(b):g={callback:a,context:b,next:g}}}(),ea=function(){function a(b){if(f&&!m[b]&&(m[b]=f[b]||f.getElementsByTagName(b)[0],m[b])){var c=n[b];delete n[b];for(var e=0,d;d=c[e];e++)d[0].call(d[1],m[b])}return m[b]}function b(){var f=this[0],g=this[1],k=this[2];d(g);var l=a(f);l?(!0===k&&(k=l.firstChild),k&&k.parentNode===l||(k=null),l.insertBefore(g,
k)):n[f].push([b,[f,g,k]])}function d(a){for(var b in n){var c=l.search(n[b],a,function(a){return a[1]&&a[1][1]});c&&l.remove(n[b],c)}a&&a.parentNode&&1==a.parentNode.nodeType&&a.parentNode.removeChild(a)}function g(){q&&a("head")&&a("body")&&(q=clearInterval(q))}var q,m={},n={head:[],body:[]};!f||a("head")&&a("body")||(q=setInterval(g,5),ta(g));return{head:{ready:function(a,b){n.head?n.head.push([a,b]):a.call(b,m.head)},add:function(a,e){b.call(["head",a,e])}},body:{ready:function(a,b){n.body?n.body.push([a,
b]):a.call(b,m.body)},add:function(a,e){b.call(["body",a,e])}},remove:d}}(),ua=function(){function a(e){f.globalDestroy=!0;f.add=x;for(f.remove=x;e=b.pop();)if("function"==typeof e.destroy)try{e.destroy()}catch(d){}else for(var g in e)e[g]=null;b.length=0}var b=[];if("attachEvent"in d)d.attachEvent("onunload",a);else if("addEventListener"in d)d.addEventListener("unload",a,!1);else return{add:x,remove:x};var f={add:function(a){null!=a&&b.push(a)},remove:function(a){l.remove(b,a)}};return f}(),sa=function(){function a(b){p.setAttribute("href",
b);ea.head.add(p,!0)}function b(){p.setAttribute("href",location.href);ea.remove(p)}function d(){a(this.baseURI);this.element||(this.element=f.createElement("style"),m||(this.textNode=this.element.appendChild(f.createTextNode(""))));ea.head.add(this.element);this.syncCssText();b()}var g={},l=!0,m;try{m=!f.createElement("style").appendChild(f.createTextNode(""))}catch(n){m=!0}ua.add({destroy:function(){l=!1;for(var a in g)g[a].destroy();g=null}});var p=f&&f.createElement("base"),r=G(null,{className:"basis.CssResource",
inUse:0,url:"",baseURI:"",cssText:"",resource:null,element:null,textNode:null,init:function(a){this.url=J.resolve(a);this.baseURI=J.dirname(a)+"/";g[a]=this},updateCssText:function(d){this.cssText!=d&&(this.cssText=d,this.inUse&&this.element&&(a(this.baseURI),this.syncCssText(),b()))},syncCssText:function(){this.textNode?this.textNode.nodeValue=this.cssText:this.element.styleSheet.cssText=this.cssText},startUse:function(){if(!this.inUse){if(!this.resource){var a=v(this.url);this.resource=a;this.cssText=
a.get(!0)}ea.head.ready(d,this)}this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&ea.remove(this.element))},destroy:function(){this.element&&l&&ea.remove(this.element);this.cssText=this.resource=this.textNode=this.element=null}});r.resources=g;return r}(),ca=p("basis").extend({version:"1.2.1",NODE_ENV:Y,config:R,platformFeature:{},resolveNSFilename:u,patch:function(a,b){a=/[^a-z0-9_\.]/i.test(a)||".js"==J.extname(a)?J.resolve(a):u(a);n[a]?n[a].push(b):n[a]=[b];
var d=v.get(a);d&&d.isResolved()&&b(d.get(),d.url)},namespace:p,require:ma,resource:v,asset:function(a){return a},setImmediate:I,clearImmediate:U,nextTick:function(){I.apply(null,arguments)},Class:G,Token:C,DeferredToken:D,getter:Q,ready:ta,cleaner:ua,console:W,path:J,doc:ea,object:{extend:w,complete:b,keys:M,values:function(a){var b=[],d;for(d in a)b.push(a[d]);return b},slice:ja,splice:function(a,b){var d={};if(!b)return w(d,a);for(var f=0,g;g=b[f++];)g in a&&(d[g]=a[g],delete a[g]);return d},merge:ia,
iterate:oa},fn:{$undefined:function(a){return void 0==a},$defined:function(a){return void 0!=a},$isNull:function(a){return null==a||void 0==a},$isNotNull:function(a){return null!=a&&void 0!=a},$isSame:function(a){return a===this},$isNotSame:function(a){return a!==this},$self:la,$const:function(a){return function(){return a}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:x,getter:Q,nullGetter:Z,wrapper:function(a){return function(b){var d={};d[a]=b;return d}},
lazyInit:function(a,b){var d=0,f,g;return f=function(){d++||(f.inited=!0,f.data=g=a.apply(b||this,arguments));return g}},lazyInitAndRun:function(a,b,d){var f=0,g,l;return g=function(){f++||(g.inited=!0,g.data=l=a.call(d||this));b.apply(l,arguments);return l}},runOnce:function(a,b){var d=0;return function(){if(!d++)return a.apply(b||this,arguments)}}},array:w(t,ia(l,{from:t,create:ba})),string:ia(y,{isEmpty:function(a){return null==a||""==String(a)},isNotEmpty:function(a){return null!=a&&""!=String(a)}}),
number:ra,bool:{invert:function(a){return!a}},json:{parse:"undefined"!=typeof JSON?JSON.parse:function(a){return y.toObject(a,!0)}}});p("basis.dev").extend(W);R.autoload&&ma(R.autoload)})(this)}).call(this)